<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AAJ - Admin</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="apple-touch-icon" href="assets/img/apple-icon.png" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="./assets/logo_AAJ.png"
    />

    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/templatemo.css" />
    <link rel="stylesheet" href="assets/css/custom.css" />

    <!-- Load fonts style after rendering the layout styles -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;700;900&display=swap"
    />
    <link rel="stylesheet" href="assets/css/fontawesome.min.css" />
  </head>

  <body class="bg-white">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-light shadow bg-white">
      <div class="container d-flex justify-content-between align-items-center">
        <img src="./assets/logo_AAJ.png" alt="logo" href="index.html" />

        <button
          class="navbar-toggler border-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#templatemo_main_nav"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="align-self-center collapse navbar-collapse flex-fill d-lg-flex justify-content-lg-between"
          id="templatemo_main_nav"
        >
          <div class="flex-fill">
            <ul
              class="nav navbar-nav d-flex justify-content-between mx-lg-auto"
            >
              <li class="nav-item">
                <a class="nav-link mx-lg-auto" href="adm1.html">Produtos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="adm3.html">Usuários</a>
              </li>
            </ul>
          </div>
          <div class="navbar align-self-center d-flex">
            <div
              class="d-lg-none flex-sm-fill mt-3 mb-4 col-7 col-sm-auto pr-3"
            ></div>
          </div>
        </div>
      </div>
    </nav>
    <!-- Close Header -->

    <div class="container py-4">
      <div class="row mt-2">
        <div class="col-11 text-end mb-0">
          <button type="button" class="btn btn-success px-3">
            <a class="nav-icon position-relative text-white" href="adm1.html"
              >Buscar produtos</a
            >
          </button>
        </div>
      </div>
    </div>

    <!-- Tabela -->
    <div class="container py-1">
      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Descrição Produto</th>
              <th scope="col">Referência</th>
              <th scope="col">Estoque</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody id="exibir"></tbody>
          <!-- <tbody>
            <td>Chinelo Santa Lolla Flip Flop Tiras Cruzadas Feminino</td>
            <td>XXXXXXXXXXX</td>
            <td>150</td>
            <td>
              <img
                class="img-fluid-table"
                src="./assets/image 54.svg"
                alt="Visualizar"
              />
            </td>
          </tbody> -->
        </table>
      </div>
    </div>
    <script src="assets/js/jquery-1.11.0.min.js"></script>
    <script src="assets/js/jquery-migrate-1.2.1.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/templatemo.js"></script>
    <script src="assets/js/custom.js"></script>
    <script>
      axios
        .get('http://localhost:3000/produto/')
        .then(function (response) {
          document.getElementById('exibir').innerHTML = response.data
            .map(function (produto) {
              return (
                '<tr>' +
                '<td>' +
                produto.descricao +
                '</td>' +
                '<td>' +
                produto._id +
                '</td>' +
                '<td>' +
                produto.estoque +
                '</td>' +
                '</tr>'
              )
            })
            .join('')
        })
        .catch(function (err) {
          document.getElementById('erro').innerHTML =
            '<div class="alert alert-danger" role="alert"><strong>' +
            err.message +
            '</strong></div>'
        })
    </script>
  </body>
</html>
